<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Büiz-é</title>
    <link rel='stylesheet' href='fullcalendar.css' />
    <link rel='stylesheet' href='bootstrap.css' />
    <script src='lib/jquery.min.js'></script>
    <script src='lib/moment.min.js'></script>
    <script src='fullcalendar.js'></script>
    <script>
        var n = 0;
        calendar = [] //full list of events in user's calendar as json objects (start, end, id)
        var n = 0; //counter to generate unique id for each event

        $(document).ready(function () {
            $('#calendar').fullCalendar({
                header: {
                    left: 'prev,next today',
                    center: 'title',
                    right: ''
                },
                selectable: true,
                selectHelper: true,

                //Creates events on click/drag
                select: function (start, end, id) {
                    var eventData;
                    eventData = {
                        start: start, //start time
                        end: end, //end time
                        id: n //unique event id (order in which events are created starting on index 0)
                    };
                    $('#calendar').fullCalendar('renderEvent', eventData, true); // stick? = true
                    $('#calendar').fullCalendar('unselect');
                    calendar.push(eventData); //append user's calendar list with latest event data
                    n++;
                },
                editable: false,
                eventLimit: true, // allow "more" link when too many events
                events: [], //private variable to temporaily store event data

                //Deletes events on click
                eventClick: function (eventData, jsEvent, view) {
                    $('#calendar').fullCalendar('removeEvents', function (events) {
                        for (i = 0; i < calendar.length; i++) { //iterates through globa calendar list and removes events based on unique id's
                            if (eventData.id == calendar[i].id) {
                                calendar.splice(i, 1);
                            };
                        };
                        return events == eventData;
                    });
                },
            });
        });

        function clearAll() {
            $('#calendar').fullCalendar('removeEvents');
        };
    </script>
</head>

<body>
    <div id='main'>
        <div id='logo'>
            <h1>Büiz-é</h1>
            <img src='' alt=''>
        </div>

        <div id='link'>
            <input type="text" disabled='disabled' value='link here' size='6'></input>
            <button type="button" id='share'>Share</button>
        </div>
        <br>
        <div id='clearbutton' align='left'>
            <button type="button" onclick="clearAll()">Clear All</button>
        </div>

        <div class='clearfix'></div>
        <div id='calendar'>
        </div>
    </div>
</body>

</html>